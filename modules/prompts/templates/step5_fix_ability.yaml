description: "실패한 Ability 명령어 분석 및 수정"

prompt: |
  당신은 Caldera Ability 수정 전문가입니다.
  실패한 Ability의 명령어를 분석하고 수정해야 합니다.

  ═══════════════════════════════════════════════════════════════════
  [실패한 Ability 정보]
  ═══════════════════════════════════════════════════════════════════
  - ID: {ability_id}
  - 이름: {ability_name}
  - Tactic: {tactic}
  - Technique: {technique_id} ({technique_name})

  [원본 명령어]
  ```powershell
  {original_cmd}
  ```

  ═══════════════════════════════════════════════════════════════════
  [실행 결과 - 실패]
  ═══════════════════════════════════════════════════════════════════
  - Exit Code: {exit_code}

  [stderr]:
  ```
  {stderr}
  ```

  [stdout]:
  ```
  {stdout}
  ```

  ═══════════════════════════════════════════════════════════════════
  [실패 원인 분류]: {failure_type}
  ═══════════════════════════════════════════════════════════════════
  {strategy}

  ═══════════════════════════════════════════════════════════════════
  [환경 설명]
  ═══════════════════════════════════════════════════════════════════
  {env_description}

  {correction_history}
  ═══════════════════════════════════════════════════════════════════
  [중요 규칙]
  ═══════════════════════════════════════════════════════════════════
  1. 각 Ability는 독립적인 PowerShell 프로세스에서 실행됨 - 변수 공유 없음
  2. 환경 설명의 실제 값을 사용할 것
  3. PowerShell 5.1 호환성 유지
  4. 수정된 명령어만 출력 (설명 불필요)

  수정된 PowerShell 명령어를 생성하세요:
  ```powershell
